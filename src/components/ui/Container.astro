---
/**
 * Responsive Container Component
 *
 * A reusable container with consistent padding and max-width across the site.
 * Optimized with Mobile First approach for all screen sizes.
 *
 * Usage example:
 * <Container>
 *   <YourContent />
 * </Container>
 */

interface Props {
  /**
   * Optional class names to add to the container
   */
  class?: string;

  /**
   * Whether the container should be full width on mobile (defaults to false)
   */
  fullWidthMobile?: boolean;

  /**
   * Container size variant
   */
  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';

  /**
   * Optional max width override (defaults to responsive scaling)
   */
  maxWidth?: string;

  /**
   * Optional padding override (defaults to responsive padding)
   */
  padding?: string;

  /**
   * Center content vertically
   */
  centerY?: boolean;

  /**
   * Semantic HTML element to use
   */
  as?: 'div' | 'section' | 'article' | 'main' | 'aside' | 'header' | 'footer';
}

const {
  class: className = "",
  fullWidthMobile = false,
  size = 'lg',
  maxWidth,
  padding,
  centerY = false,
  as: Element = 'div',
} = Astro.props;

// Size-based max-width classes (Mobile First)
const sizeClasses = {
  sm: 'max-w-2xl',
  md: 'max-w-4xl', 
  lg: 'max-w-6xl',
  xl: 'max-w-7xl',
  full: 'max-w-full'
};

const finalMaxWidth = maxWidth || sizeClasses[size];
const finalPadding = padding || "px-3 sm:px-4 md:px-6 lg:px-8 xl:px-12 2xl:px-16";
---

<Element
  class:list={[
    "mx-auto w-full",
    fullWidthMobile ? "" : "max-w-[100vw]",
    finalMaxWidth,
    finalPadding,
    centerY && "flex items-center justify-center min-h-screen",
    className,
  ]}
>
  <slot />
</Element>

